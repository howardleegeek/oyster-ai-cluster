---
task_id: R20260218-03
project: clawphones
priority: High
depends_on: []
modifies: "clawphones"
executor: glm
---
## 目标
Implement on-device AI inference using llama.cpp

## 来源
基于自动调研 (2026-02-18T21:33:13.336020)
方向: On-device AI for mobile applications
置信度: 0.92
OSS决策: fork (High score (80), safe license, active — direct fork)

## 代码基础 (Fork from Open Source)
- Fork from: yichuan-w/LEANN (https://github.com/yichuan-w/LEANN)
- 本地路径: /Users/howardli/Downloads/oyster/products/on-device-ai-for-mobile-applic
- 语言: Python
- 入口文件: pyproject.toml
- 测试目录: tests
- 关键文件: N/A

### 目录结构
```
.
./llms.txt
./sky
./sky/leann-build.yaml
./LICENSE
./uv.lock
./.pre-commit-config.yaml
./demo.ipynb
./pyproject.toml
./tests
./tests/test_document_rag.py
./tests/test_cli_ask.py
./tests/test_embedding_server_manager.py
./tests/test_basic.py
./tests/test_hybrid_search.py
./tests/test_prompt_template_persistence.py
./tests/test_embedding_prompt_template.py
./tests/test_sync.py
./tests/test_mcp_integration.py
./tests/test_readme_examples.py
./tests/test_metadata_filtering.py
./tests/test_mcp_standalone.py
./tests/README.md
./tests/test_cli_verbosity.py
./tests/test_cli_prompt_template.py
./tests/test_token_truncation.py
./tests/test_cpu_only_install.py
./tests/test_ci_minimal.py
./tests/test_astchunk_integration.py
./tests/test_prompt_template_e2e.py
./tests/test_diskann_partition.py
./tests/test_lmstudio_bridge.py
./docs
./docs/COLQWEN_GUIDE.md
./docs/metadata_filtering.md
./docs/faq.md
./docs/code
./docs/RELEASE.md
./docs/videos
./docs/THINKING_BUDGET_FEATURE.md
./docs/normalized_embeddings.md
./docs/roadmap.md
./docs/slack-setup-guide.md
./docs/CONTRIBUTING.md
./docs/react_agent.md
./docs/configuration-guide.md
./docs/features.md
./docs/grep_search.md
./docs/ast_chunking_guide.md
./.gitmodules
./README.md
./videos
./videos/google_clear.gif
./videos/paper_clear.gif
./videos/wechat_clear.gif
./videos/mail_clear.gif
./.gitignore
./examples
./examples/basic_demo.py
./examples/dynamic_update_no_recompute.py
./examples/__init__.py
./examples/mlx_demo.py
./examples/grep_search_exam
```

### README 摘要
```
<p align="center">
  <img src="assets/logo-text.png" alt="LEANN Logo" width="400">
</p>

<p align="center">
  <a href="https://trendshift.io/repositories/15049" target="_blank">
    <img src="https://trendshift.io/api/badge/repositories/15049" alt="yichuan-w/LEANN | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/>
  </a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.9%20%7C%203.10%20%7C%203.11%20%7C%203.12%20%7C%203.13-blue.svg" alt="Python Versions">
  <img src="https://github.com/yichuan-w/LEANN/actions/workflows/build-and-publish.yml/badge.svg" alt="CI Status">
  <img src="https://img.shields.io/badge/Platform-Ubuntu%20%26%20Arch%20%26%20WSL%20%7C%20macOS%20(ARM64%2FIntel)-lightgrey" alt="Platform">
  <img src="https://img.shields.io
```

## 约束
- 这是一个 fork 的开源项目，不改原有功能，只加新功能
- 复用现有测试框架和代码风格
- 不留 TODO/FIXME/placeholder
- 先读懂现有代码再动手

## 验收标准
- [ ] 核心功能实现完整
- [ ] 不破坏现有功能
- [ ] pytest 全绿

## 不要做
- 不重构现有代码（除非 fork_modify 明确要求）
- 不改 UI/CSS
