---
task_id: G10-03-BP
project: bluesky-poster
priority: 1
depends_on: []
modifies: ["poster.py", "poster_monitor.py", "tests/test_poster_monitor.py"]
executor: glm
---
task_id: G10-03-BP
project: bluesky-poster
priority: 1
depends_on: []
modifies: ["poster.py", "poster_monitor.py", "tests/test_poster_monitor.py"]
---
## 目标
实现帖子发布后的监控和反馈机制，确保帖子成功发布并处理失败情况。

## 技术方案
1. 在 `poster_monitor.py` 中创建一个监控模块，监听帖子发布的结果。
2. 使用 AT Protocol 的回调机制，接收帖子发布的状态更新。
3. 在 `poster.py` 中集成监控模块，调用监控逻辑处理发布结果。
4. 在 `tests/test_poster_monitor.py` 中添加测试用例，验证监控和反馈机制。
5. 实现失败重试机制，在帖子发布失败时自动重试。

## 约束
- 在现有代码库内修改，不新建超过3个文件。
- 不留 TODO/FIXME/placeholder。
- 编写基础测试，确保监控和反馈功能正常。

## 验收标准
- [ ] 帖子发布成功后能正确接收反馈。
- [ ] 帖子发布失败时能触发重试机制。
- [ ] pytest 全绿。

## 不要做
- 不重构现有代码。
- 不改 UI/CSS。