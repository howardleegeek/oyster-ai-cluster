# ClawPhones Next-Gen Architecture
## Idle Phone Shared Economy + ClawVision + Edge Computing + ClawTasks

> 作者: Opus (总司令) | 日期: 2026-02-11
> 状态: 顶层设计 v1 — 待 Howard 确认方向后细化各 Sprint spec

---

## 一句话定位

**每一台闲置手机都是一个节点。看得见（ClawVision）、算得动（ClawEdge）、赚得到（ClawTasks）。Oyster 把 4 万台手机变成全球最大的分布式感知+计算+数据网络。**

不卖币叙事。卖的是实用价值：旧手机不是电子垃圾，是基础设施。

---

## 竞品空白分析

### 为什么这个品类没有竞争对手

| 品类 | 现有玩家 | 他们的局限 | 我们的优势 |
|------|---------|-----------|-----------|
| 手机摄像头 | Alfred Camera (7000万用户) | 单机模式，无网络效应，无 AI | 联网 + AI 检测 + 邻里共享 |
| 带宽共享 | Honeygain ($15/月) | 只卖带宽，价值天花板低 | 多维度价值（视觉+算力+带宽） |
| 拍照任务 | Premise ($30/月) | 人工跑腿，不可规模化 | 4万台固定节点自动拍 |
| 边缘计算 | 学术研究 | 无商业平台 | 第一个消费级手机算力网络 |
| 手机 DePIN | 无 | 品类不存在 | 独占 |

### 学术验证
- 300 万台 Galaxy S8 = 16.6 万台 Google 服务器 (IEEE)
- 旧手机做微型数据中心，成本 €8/台 (爱沙尼亚大学)
- 2026 年 80% AI 推理在设备端完成

---

## 四根支柱

```
┌─────────────────────────────────────────────────────────────┐
│                    ClawPhones Platform                        │
│                                                               │
│   ┌───────────┐  ┌───────────┐  ┌──────────┐  ┌─────────┐  │
│   │ ClawVision│  │ ClawEdge  │  │ ClawTasks │  │ClawMesh │  │
│   │ 分布式眼睛 │  │ 分布式大脑 │  │ 数据市场  │  │分布式网络│  │
│   │           │  │           │  │          │  │         │  │
│   │ 摄像头网络 │  │ 边缘计算   │  │ 拍照赚钱  │  │设备互联  │  │
│   │ 空间感知   │  │ AI 推理   │  │ 任务市场  │  │带宽共享  │  │
│   │ 世界模型   │  │ 数据处理   │  │ 买方API   │  │任务路由  │  │
│   └───────────┘  └───────────┘  └──────────┘  └─────────┘  │
│         ↕                ↕              ↕           ↕        │
│   ┌─────────────────────────────────────────────────────┐   │
│   │        Oysterworld — 统一空间索引层 (H3 cells)       │   │
│   └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

## 支柱一: ClawVision — 分布式眼睛

### 场景矩阵

| 场景 | 谁用 | 价值 |
|------|------|------|
| 家庭安防 | 普通用户 | 旧手机放门口，运动检测+推送，AI 识别人/车/包裹/动物 |
| 邻里守望 | 社区 | 多台手机组成街区覆盖，共享异常告警，天然裂变 |
| 商户监控 | 小店主 | 省了买 Wyze 的钱，手机本身就是摄像头 + AI 客流统计 |
| 宠物/老人看护 | 家庭 | 异常行为检测 + 语音交互联动 |
| 环境监测 | 城市/农业 | 手机传感器（温度/光照/噪音/气压）组成传感器网 |

### 技术架构

**设备端 (Edge)**:
- 1 FPS 低功耗采集（已有 Oysterworld web node 模式）
- 帧差法运动检测（on-device，不上传静止帧，省 90% 带宽）
- 本地 AI 检测（MobileNet/YOLO-nano）: 人/车/动物/包裹/异常行为
- 触发上传: 只在检测到事件时上传关键帧 + 前后 5 秒片段

**云端 (Relay)**:
- 事件聚合: 按 H3 cell 索引
- 跨设备关联: 同一目标在多台手机间的轨迹
- 告警分发: 推送给订阅该区域的用户
- 时间线回放: 每个 cell 的完整历史

### 邻里守望网络 (Neighborhood Watch)

杀手级场景 — 1 人用 → 拉 5 个邻居 → 自然裂变:

```
一条街 10 户，每家放 1 台旧手机:
→ 整条街 360° 覆盖
→ 陌生人进入 → 检测到 → 10 户同时收到推送
→ 多台手机自动切高帧率追踪
→ 轨迹记录，按 H3 cell 索引，可回放
```

### ClawVision API

```
POST /v1/vision/register          — 注册摄像头节点（位置+朝向+FOV）
POST /v1/vision/events            — 上报检测事件
POST /v1/vision/frames            — 上传关键帧（仅事件触发时）
GET  /v1/vision/coverage          — 覆盖热力图
GET  /v1/vision/events?cell=X     — 区域事件历史
GET  /v1/vision/timeline?cell=X   — 时间线回放
POST /v1/vision/search            — 语义搜索
POST /v1/vision/networks          — 创建邻里网络
POST /v1/vision/networks/{id}/join — 加入邻里网络
GET  /v1/vision/networks/{id}/feed — 网络实时事件流
```

---

## 支柱二: ClawEdge — 分布式大脑

### 可跑的任务

| 任务类型 | 描述 | 单台能力 |
|---------|------|---------|
| AI 推理 | 小模型 inference（分类、情感、OCR） | 1-5 req/sec |
| 图片处理 | 缩放、裁剪、格式转换、人脸模糊 | 3-10 img/sec |
| 数据预处理 | 清洗、格式化、embedding | 持续流式 |
| 转码 | 音视频格式转换（手机 GPU 硬件加速） | 实时 1x |

### 和 ClawVision 协同

同一台手机同时做两件事:
- 摄像头: 1 核 + 摄像头硬件（~20% 资源）
- 计算任务: 剩余 6-7 核 + GPU（~80% 资源）

### 调度架构

```
任务 → Orchestrator (云端) → 选节点 (在线/能力/位置/信誉) → 节点执行 → 返回结果
容错: 超时自动重分配 / 多节点交叉验证 / 电量低优雅降级
```

---

## 支柱三: ClawTasks — 数据市场

### 谁会为手机拍到的东西付钱

| 买方 | 要什么 | 单价 |
|------|--------|------|
| 地图公司 | 街景更新 | $0.01/100帧 |
| 房地产 | 小区实景 | $1-5/地点 |
| 保险公司 | 灾后/事故现场 | $5-50/任务 |
| 零售品牌 | 货架陈列 | $2-5/任务 |
| 城市管理 | 路况/基建 | 按事件付费 |
| 广告验证 | 户外广告核查 | $1-3/位 |
| AI 训练 | 标注场景数据 | $0.01-0.10/张 |

### 两种模式

**被动收入 (ClawVision 节点自动赚)**:
- 节点 24/7 自动采集 → AI 分析 → 只上传结构化结果（非原始图片）
- 交通统计、天气实况、停车位、店铺状态、施工检测
- 预估: $2-3/天/节点 = $60-90/月（全自动）

**主动任务 (用户接单去拍)**:
- 类似 Premise 但基于已有网络
- 门面拍摄 $0.50-2、货架检查 $2-5、环境勘察 $3-10、事故现场 $10-50
- 覆盖充足时 <1 秒返回已有数据；无覆盖时发 Mission

### 核心创新: 卖分析结果，不卖原始照片

```
原始照片: $0.01 (隐私问题 + 带宽大 + 价值低)
AI 分析结果: $0.10 (隐私安全 + 带宽小 + 价值高)

设备端 AI 处理 → 只上传结构化数据 → 10x 溢价
```

### 定价引擎

```
价格 = 基础价 × 覆盖稀缺度 × 紧急度 × 质量要求

覆盖稀缺度: 10+节点=×0.5, 1-3节点=×1.0, 无节点=×3.0
紧急度: 24h=×1.0, 1h=×5.0, 实时=×10.0
质量: 低分辨率=×0.5, 高清多角度=×2.0, 视频+标注=×5.0
```

### 质量保证 (三层验证)

1. **设备端**: GPS 校验、模糊检测、曝光检测、时间戳交叉验证
2. **AI 验证**: 内容匹配、重复检测、篡改检测
3. **交叉验证**: 同一任务 2-3 节点，结果一致才通过

### 买方 API

```
GET  /v1/tasks/query?lat=X&lon=Y   — 查询该位置最新数据
POST /v1/tasks/create               — 创建定制拍照任务
POST /v1/tasks/subscribe             — 订阅区域变化通知
POST /v1/tasks/batch                 — 批量任务（全城所有星巴克）
GET  /v1/tasks/{id}/result           — 获取任务结果
```

### 收入模型（保守 / 1000 节点城市）

| 来源 | 日收入 | 月收入 |
|------|--------|--------|
| 被动数据 | $2,000 | $60K |
| 主动任务 | $400 | $12K |
| **合计** | **$2,400** | **$72K** |
| 平台 20% | $480 | $14.4K |
| 节点主人 | $2/天/人 | $60/月/人 |

---

## 支柱四: ClawMesh — 分布式神经

| 能力 | 应用 |
|------|------|
| 带宽共享 | VPN 出口、CDN 缓存 |
| 本地 Mesh | 邻里告警零延迟 |
| 任务路由 | 设备间弹性调度 |
| 数据缓存 | 减少回源 |

---

## 统一用户体验

一个开关，四件事同时做:

```
Node Mode: ON
  📹 Vision:  Active → 自动当摄像头
  🧠 Compute: Active → 自动跑计算
  📡 Mesh:    Active → 自动共享带宽
  💰 Tasks:   Active → 自动数据变现

Today: 14h online / 847 frames / 156 tasks / 2.1GB shared
Credit: 2,847 pts → 可兑换 28 次 Pro AI 查询
```

积分体系（面向用户只看"积分"，底层可选 $WORLD 结算）

---

## 飞轮

```
用户下载 ClawPhones (免费 AI)
  → 发现 Node Mode
  → 旧手机放门口当摄像头 (真的有用)
  → 邀请邻居 → 邻里网络 (更安全)
  → 节点自动赚积分 (被动收入)
  → 积分换 Pro AI 查询 (正向循环)
  → 每用户 2 台设备 (主机+旧机)
  → 网络密度翻倍
  → 数据更值钱 → 买方更多 → 收入更高
  → ♻️
```

---

## Sprint 路线图

| Sprint | 名称 | 核心交付 | 依赖 |
|--------|------|---------|------|
| 11 | ClawVision 基础 | Node Mode UI + 摄像头采集 + 运动检测 + 推送 | Oysterworld relay |
| 12 | ClawVision AI | 设备端 AI 检测 (人/车/包裹) + 智能告警 | Sprint 11 |
| 13 | 邻里守望 | 创建/加入网络 + 共享告警 + 覆盖地图 | Sprint 12 |
| 14 | ClawTasks 被动 | 节点自动数据变现 + 积分系统 | Sprint 12 |
| 15 | ClawTasks 主动 | 任务市场 + 买方 API + 质量验证 | Sprint 14 |
| 16 | Edge Compute | 设备能力注册 + 任务调度 + 算力变现 | Sprint 11 |
| 17 | On-Device AI | 本地小模型 + 离线模式 + Privacy Mode | 无 |
| 18 | 语音+视觉 | TTS + 语音对话 + 拍照问 AI | Sprint 12 |
| 19 | 开发者平台 | 开放 API + SDK + Webhook | Sprint 15, 16 |
| 20 | 规模化 | PG 迁移 + Redis + CDN + 监控 | 全部 |

---

## 与现有 Oysterworld 的整合

```
当前 relay server (569 行) 扩展为:
  /v1/events/frame        ← 原有 (1 FPS 覆盖)
  /v1/vision/*            ← ClawVision
  /v1/compute/*           ← ClawEdge
  /v1/tasks/*             ← ClawTasks
  /v1/nodes/capability    ← 设备能力注册
  /v1/mesh/*              ← ClawMesh

H3 cell 统一索引:
  cell → {
    vision_events, coverage_frames, active_nodes,
    compute_capacity, task_availability
  }
```

---

## 关键指标

| 维度 | 指标 |
|------|------|
| 覆盖 | 日活节点数、覆盖 cell 数、cell 新鲜度 |
| 质量 | 多角度覆盖率、GPS 精度、图片质量分 |
| 经济 | 节点日收入、买方月消费、平台 GMV |
| 增长 | 邻里网络数、每网络平均节点、裂变系数 |
| 技术 | Edge 任务完成率、P95 延迟、节点在线率 |
